'use client';

import { useState } from 'react';
import { ChevronDown, ArrowRight } from 'lucide-react';
import Link from 'next/link';

interface FAQItem {
    question: string;
    answer: string;
    icon?: string;
}

export const faqData: FAQItem[] = [
    {
        question: 'ржХрзАржнрж╛ржмрзЗ ржнрж░рзНрждрж┐ рж╣ржмрзЛ?',
        answer: 'ржЖржорж╛ржжрзЗрж░ ржУржпрж╝рзЗржмрж╕рж╛ржЗржЯрзЗ рж░рзЗржЬрж┐рж╕рзНржЯрзНрж░рзЗрж╢ржи ржХрж░рзБржи, ржЖржкржирж╛рж░ ржкржЫржирзНржжрзЗрж░ ржХрзЛрж░рзНрж╕/ржкрзНрж░рзЛржЧрзНрж░рж╛ржо ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи ржПржмржВ ржирж┐рж░рзНржзрж╛рж░рж┐ржд ржлрж┐ ржкрж░рж┐рж╢рзЛржз ржХрж░рзЗ ржнрж░рзНрждрж┐ рж╕ржорзНржкржирзНржи ржХрж░рзБржиред ржнрж░рзНрждрж┐ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ рж╕ржорзНржкрзВрж░рзНржг ржЕржирж▓рж╛ржЗржирзЗ рж╣ржпрж╝ред',
        icon: 'ЁЯУЭ'
    },
    {
        question: 'Why IOA? ржХрзЗржи IOA рж╕ржмрж╛рж░ ржерзЗржХрзЗ ржЖрж▓рж╛ржжрж╛?',
        answer: 'IOA рждрзЗ рж░ржпрж╝рзЗржЫрзЗ ржЕржнрж┐ржЬрзНржЮ ржЖрж▓рзЗржо ржУ рж╢рж┐ржХрзНрж╖ржХржоржирзНржбрж▓рзА, ржЖржзрзБржирж┐ржХ ржкрж╛ржарзНржпржХрзНрж░ржо, ржлрзНрж▓рзЗржХрзНрж╕рж┐ржмрж▓ рж╢рж┐ржЦржи ржкржжрзНржзрждрж┐ ржПржмржВ рж╕рж╛рж░рзНржЯрж┐ржлрж┐ржХрзЗржЯ ржкрзНрж░ржжрж╛ржиред ржЖржорж░рж╛ ржРрждрж┐рж╣рзНржпржмрж╛рж╣рзА ржЗрж╕рж▓рж╛ржорзА рж╢рж┐ржХрзНрж╖рж╛ржХрзЗ ржЖржзрзБржирж┐ржХ ржкрзНрж░ржпрзБржХрзНрждрж┐рж░ рж╕рж╛ржерзЗ рж╕ржоржирзНржмржпрж╝ ржХрж░рзЗ рж╕рж╣ржЬрж▓ржнрзНржп ржХрж░рзЗ рждрзБрж▓рзЗржЫрж┐ред',
        icon: 'тнР'
    },
    {
        question: 'ржорж╣рж┐рж▓рж╛ржжрзЗрж░ ржХрзНрж▓рж╛рж╕ ржХрж╛рж░рж╛ ржирзЗржпрж╝?',
        answer: 'ржорж╣рж┐рж▓рж╛ржжрзЗрж░ ржХрзНрж▓рж╛рж╕ ржЕржнрж┐ржЬрзНржЮ ржорж╣рж┐рж▓рж╛ рж╢рж┐ржХрзНрж╖рж┐ржХрж╛ржЧржг ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░рзЗржиред рждрж╛ржБрж░рж╛ рж╕ржмрж╛ржЗ ржпрзЛржЧрзНржпрждрж╛рж╕ржорзНржкржирзНржи ржЖрж▓рзЗржорж╛ ржПржмржВ ржЗрж╕рж▓рж╛ржорзА рж╢рж┐ржХрзНрж╖рж╛ржпрж╝ ржкрзНрж░рж╢рж┐ржХрзНрж╖рж┐рждред',
        icon: 'ЁЯСйтАНЁЯПл'
    },
    {
        question: 'ржХржЦржи ржХрзНрж▓рж╛рж╕ рж╣ржпрж╝?',
        answer: 'ржХрзНрж▓рж╛рж╕рзЗрж░ рж╕ржоржпрж╝рж╕рзВржЪрзА ржХрзЛрж░рзНрж╕ ржЕржирзБржпрж╛ржпрж╝рзА ржнрж┐ржирзНржи рж╣ржпрж╝ред рж╕рж╛ржзрж╛рж░ржгржд рж╕ржирзНржзрзНржпрж╛ ржУ рж░рж╛рждрзЗрж░ рж╕ржоржпрж╝рзЗ рж▓рж╛ржЗржн ржХрзНрж▓рж╛рж╕ рж╣ржпрж╝ред рждржмрзЗ рж╕ржм ржХрзНрж▓рж╛рж╕ рж░рзЗржХрж░рзНржб ржХрж░рж╛ рж╣ржпрж╝, рждрж╛ржЗ ржЖржкржирж┐ ржЖржкржирж╛рж░ рж╕рзБржмрж┐ржзрж╛ржоржд рж╕ржоржпрж╝рзЗ ржжрзЗржЦрждрзЗ ржкрж╛рж░ржмрзЗржиред',
        icon: 'тП░'
    },
    {
        question: 'ржПржЦрж╛ржи ржерзЗржХрзЗ ржкржбрж╝рзЗ ржЖржорж┐ ржХрж┐ ржЖрж▓рзЗржо/ржЖрж▓рзЗржорж╛ рж╣рждрзЗ ржкрж╛рж░ржмрзЛ?',
        answer: 'рж╣рзНржпрж╛ржБ, ржЖржорж╛ржжрзЗрж░ ржжрзАрж░рзНржШржорзЗржпрж╝рж╛ржжрзА ржкрзНрж░рзЛржЧрзНрж░рж╛ржоржЧрзБрж▓рзЛ рж╕ржорзНржкржирзНржи ржХрж░рж▓рзЗ ржЖржкржирж┐ ржЖрж▓рзЗржо/ржЖрж▓рзЗржорж╛ рж╣рж┐рж╕рзЗржмрзЗ рж╕рзНржмрзАржХрзГрждрж┐ ржкрж╛ржмрзЗржиред рждржмрзЗ рж╕ржВржХрзНрж╖рж┐ржкрзНржд ржХрзЛрж░рзНрж╕ржЧрзБрж▓рзЛ ржорзВрж▓ржд ржЗрж╕рж▓рж╛ржорзА ржЬрзНржЮрж╛ржи ржмрзГржжрзНржзрж┐ ржУ ржжрзИржиржирзНржжрж┐ржи ржорж╛рж╕ржЖрж▓рж╛ рж╢рзЗржЦрж╛рж░ ржЬржирзНржпред',
        icon: 'ЁЯОУ'
    },
    {
        question: 'ржХрзАржнрж╛ржмрзЗ ржкрзЗржорзЗржирзНржЯ ржХрж░ржмрзЛ?',
        answer: 'ржмрж┐ржХрж╛рж╢, ржиржЧржж, рж░ржХрзЗржЯ ржПржмржВ ржмрзНржпрж╛ржВржХ ржЯрзНрж░рж╛ржирзНрж╕ржлрж╛рж░рзЗрж░ ржорж╛ржзрзНржпржорзЗ ржкрзЗржорзЗржирзНржЯ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржиред ржЕржирж▓рж╛ржЗржи ржкрзЗржорзЗржирзНржЯ ржЧрзЗржЯржУржпрж╝рзЗ ржжрж┐ржпрж╝рзЗржУ рж╕рж░рж╛рж╕рж░рж┐ ржХрж╛рж░рзНржбрзЗ ржкрзЗржорзЗржирзНржЯ рж╕ржорзНржнржмред',
        icon: 'ЁЯТ│'
    },
    {
        question: 'ржЕржлрж┐рж╕ ржХрзЛржерж╛ржпрж╝?',
        answer: 'ржЖржорж╛ржжрзЗрж░ ржкрзНрж░ржзрж╛ржи ржХрж╛рж░рзНржпрж╛рж▓ржпрж╝ ржврж╛ржХрж╛ржпрж╝ ржЕржмрж╕рзНржерж┐рждред рждржмрзЗ ржпрзЗрж╣рзЗрждрзБ ржПржЯрж┐ рж╕ржорзНржкрзВрж░рзНржг ржЕржирж▓рж╛ржЗржи ржкрзНрж░рждрж┐рж╖рзНржарж╛ржи, рждрж╛ржЗ ржЖржкржирж┐ ржмрж╛ржВрж▓рж╛ржжрзЗрж╢ ржмрж╛ ржмрж┐рж╢рзНржмрзЗрж░ ржпрзЗржХрзЛржирзЛ рж╕рзНржерж╛ржи ржерзЗржХрзЗ ржЕржВрж╢ржЧрзНрж░рж╣ржг ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржиред',
        icon: 'ЁЯПв'
    },
    {
        question: 'ржХрзЛржи ржмржпрж╝рж╕рзЗрж░ рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзАржЧржг ржПржЦрж╛ржирзЗ ржкржбрж╝рж╛рж╢рзЛржирж╛ ржХрж░рждрзЗ ржкрж╛рж░рзЗ?',
        answer: 'рж╕ржм ржмржпрж╝рж╕рзЗрж░ рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзАрж░рж╛ ржПржЦрж╛ржирзЗ ржкржбрж╝рждрзЗ ржкрж╛рж░рзЗржиред ржЖржорж╛ржжрзЗрж░ ржХрзЛрж░рзНрж╕ржЧрзБрж▓рзЛ рж╢рж┐рж╢рзБ, ржХрж┐рж╢рзЛрж░, рждрж░рзБржг ржПржмржВ ржкрзНрж░рж╛ржкрзНрждржмржпрж╝рж╕рзНржХ рж╕ржХрж▓рзЗрж░ ржЬржирзНржп ржЙржкржпрзБржХрзНрждред ржкрзНрж░рждрж┐ржЯрж┐ ржХрзЛрж░рзНрж╕рзЗ ржмржпрж╝рж╕ ржЙрж▓рзНрж▓рзЗржЦ ржХрж░рж╛ ржерж╛ржХрзЗред',
        icon: 'ЁЯСитАНЁЯСйтАНЁЯСзтАНЁЯСж'
    },
    {
        question: 'ржПржЦрж╛ржирзЗ ржкржбрж╝рждрзЗ ржХрзА ржХрзА ржпрзЛржЧрзНржпрждрж╛ ржкрзНрж░ржпрж╝рзЛржЬржи?',
        answer: 'ржмрзЗрж╢рж┐рж░ржнрж╛ржЧ ржХрзЛрж░рзНрж╕рзЗ ржХрзЛржирзЛ ржкрзВрж░рзНржм ржпрзЛржЧрзНржпрждрж╛ рж▓рж╛ржЧрзЗ ржирж╛, рж╢рзБржзрзБ ржЗрж╕рж▓рж╛ржо рж╢рзЗржЦрж╛рж░ ржЖржЧрзНрж░рж╣ ржерж╛ржХрж▓рзЗржЗ рж╣ржмрзЗред рждржмрзЗ ржХрж┐ржЫрзБ ржЕрзНржпрж╛ржбржнрж╛ржирзНрж╕ржб ржХрзЛрж░рзНрж╕рзЗ ржЖрж░ржмрзА ржмрж╛ ржкрзВрж░рзНржмржмрж░рзНрждрзА ржХрзЛрж░рзНрж╕ рж╕ржорзНржкржирзНржи ржХрж░рж╛рж░ рж╢рж░рзНржд ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗред',
        icon: 'ЁЯУЪ'
    },
    {
        question: 'ржЦрж░ржЪ ржХрзЗржоржи?',
        answer: 'ржЦрж░ржЪ ржХрзЛрж░рзНрж╕ ржЕржирзБржпрж╛ржпрж╝рзА ржнрж┐ржирзНржиред ржХрж┐ржЫрзБ ржмрзЗрж╕рж┐ржХ ржХрзЛрж░рзНрж╕ ржмрж┐ржирж╛ржорзВрж▓рзНржпрзЗ ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝ред ржкрзНрж░рж┐ржорж┐ржпрж╝рж╛ржо ржХрзЛрж░рзНрж╕ржЧрзБрж▓рзЛрж░ ржлрж┐ рж╕рж╛рж╢рзНрж░ржпрж╝рзА ржПржмржВ ржХрж┐рж╕рзНрждрж┐рждрзЗ ржкрж░рж┐рж╢рзЛржзрзЗрж░ рж╕рзБржмрж┐ржзрж╛ рж░ржпрж╝рзЗржЫрзЗред',
        icon: 'ЁЯТ░'
    },
    {
        question: 'рж╢рж┐ржХрзНрж╖ржХ ржУ ржкрж░рж┐ржЪрж╛рж▓ржХ рж╣рж┐рж╕рзЗржмрзЗ ржХрж╛рж░рж╛ ржПржЯрж┐ ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░рзЗржи?',
        answer: 'IOA ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░рзЗржи ржЕржнрж┐ржЬрзНржЮ ржЖрж▓рзЗржо, ржЗрж╕рж▓рж╛ржорзА рж╕рзНржХрж▓рж╛рж░ ржПржмржВ рж╢рж┐ржХрзНрж╖рж╛ржмрж┐ржжржЧржгред рждрж╛ржБрж░рж╛ ржмрж┐ржнрж┐ржирзНржи ржкрзНрж░рж╕рж┐ржжрзНржз ржЗрж╕рж▓рж╛ржорзА ржкрзНрж░рждрж┐рж╖рзНржарж╛ржи ржерзЗржХрзЗ рж╢рж┐ржХрзНрж╖рж╛ржкрзНрж░рж╛ржкрзНржд ржПржмржВ ржжрзАрж░рзНржШржжрж┐ржирзЗрж░ рж╢рж┐ржХрзНрж╖ржХрждрж╛рж░ ржЕржнрж┐ржЬрзНржЮрждрж╛ рж╕ржорзНржкржирзНржиред',
        icon: 'ЁЯСитАНЁЯПл'
    },
];

interface FAQSectionProps {
    limit?: number;
    showViewAll?: boolean;
    showHeader?: boolean;
}

export default function FAQSection({ limit, showViewAll = false, showHeader = false }: FAQSectionProps) {
    const [openIndex, setOpenIndex] = useState<number | null>(0);

    const displayData = limit ? faqData.slice(0, limit) : faqData;

    const toggleFAQ = (index: number) => {
        setOpenIndex(openIndex === index ? null : index);
    };

    return (
        <section className="py-16 md:py-20">
            <div className="container mx-auto px-4">
                {/* Section Header */}
                {showHeader && (
                    <div className="text-center mb-12">
                        <span className="inline-block px-4 py-1.5 bg-primary/10 text-primary text-sm font-medium rounded-full mb-4">
                            рж╕рж╛ржзрж╛рж░ржг ржЬрж┐ржЬрзНржЮрж╛рж╕рж╛
                        </span>
                        <h2 className="text-3xl md:text-4xl font-bold text-foreground mb-4">
                            ржкрзНрж░рж╛ржпрж╝рж╢ржЗ ржЬрж┐ржЬрзНржЮрж╛рж╕рж┐ржд <span className="text-primary">ржкрзНрж░рж╢рзНржирж╕ржорзВрж╣</span>
                        </h2>
                        <p className="text-muted-foreground max-w-2xl mx-auto">
                            ржЖржорж╛ржжрзЗрж░ рж╕ржорзНржкрж░рзНржХрзЗ рж╕ржмржЪрзЗржпрж╝рзЗ ржмрзЗрж╢рж┐ ржЬрж┐ржЬрзНржЮрж╛рж╕рж┐ржд ржкрзНрж░рж╢рзНржирзЗрж░ ржЙрждрзНрждрж░ ржПржЦрж╛ржирзЗ ржкрж╛ржмрзЗржи
                        </p>
                    </div>
                )}

                <div className="max-w-3xl mx-auto">
                    {/* FAQ Items */}
                    <div className="space-y-3">
                        {displayData.map((faq, index) => (
                            <div
                                key={index}
                                className={`
                                    group relative overflow-hidden rounded-xl border transition-all duration-300
                                    ${openIndex === index
                                        ? 'bg-card border-primary/30 shadow-lg shadow-primary/5'
                                        : 'bg-card/50 border-border hover:border-primary/20 hover:shadow-md'
                                    }
                                `}
                            >
                                {/* Decorative gradient */}
                                {openIndex === index && (
                                    <div className="absolute inset-0 bg-linear-to-r from-primary/5 via-transparent to-accent/5 pointer-events-none" />
                                )}

                                <button
                                    onClick={() => toggleFAQ(index)}
                                    className="w-full px-5 py-4 flex items-center gap-4 text-left relative z-10"
                                    aria-expanded={openIndex === index}
                                >
                                    {/* Icon */}
                                    <span className={`
                                        shrink-0 w-10 h-10 rounded-lg flex items-center justify-center text-lg
                                        transition-all duration-300
                                        ${openIndex === index
                                            ? 'bg-primary text-primary-foreground scale-110'
                                            : 'bg-primary/10 group-hover:bg-primary/20'
                                        }
                                    `}>
                                        {faq.icon || 'тЭУ'}
                                    </span>

                                    {/* Question */}
                                    <span className={`
                                        flex-1 font-medium transition-colors duration-300
                                        ${openIndex === index ? 'text-primary' : 'text-foreground group-hover:text-primary'}
                                    `}>
                                        {faq.question}
                                    </span>

                                    {/* Arrow */}
                                    <ChevronDown className={`
                                        w-5 h-5 text-muted-foreground transition-all duration-300
                                        ${openIndex === index ? 'rotate-180 text-primary' : 'group-hover:text-primary'}
                                    `} />
                                </button>

                                {/* Answer */}
                                <div
                                    className={`
                                        overflow-hidden transition-all duration-300 ease-out
                                        ${openIndex === index ? 'max-h-96 opacity-100' : 'max-h-0 opacity-0'}
                                    `}
                                >
                                    <div className="px-5 pb-5 pt-0">
                                        <div className="pl-14 text-muted-foreground leading-relaxed">
                                            {faq.answer}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>

                    {/* View All Button */}
                    {showViewAll && (
                        <div className="text-center mt-8">
                            <Link
                                href="/faq"
                                className="inline-flex items-center gap-2 px-6 py-3 bg-primary/10 hover:bg-primary hover:text-primary-foreground text-primary font-medium rounded-lg transition-all duration-300 group"
                            >
                                рж╕ржХрж▓ ржкрзНрж░рж╢рзНржи ржжрзЗржЦрзБржи
                                <ArrowRight className="w-4 h-4 group-hover:translate-x-1 transition-transform" />
                            </Link>
                        </div>
                    )}
                </div>
            </div>
        </section>
    );
}
